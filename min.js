var fluidPlayerScriptLocation=function(){var e,t,n="";return document.currentScript?n=document.currentScript.src:(e=document.getElementsByTagName("script"),n=void 0!==(t=e[e.length-1]).getAttribute.length?t.src:t.getAttribute("src",-1)),n?n.substring(0,n.lastIndexOf("/")+1):""}();fluidPlayer=function(e,t){var n=function(e,t){for(var n=t.length,i=0;i<n;i++)if(t[i]==e)return!0;return!1},i=fluidPlayerClass.constructor();for(var o in fluidPlayerClass)fluidPlayerClass.hasOwnProperty(o)&&!n(o,fluidPlayerClass.notCloned)&&(i[o]=fluidPlayerClass[o]);return fluidPlayerClass.instances.push(i),i.init(e,t),i};var fluidPlayerClass={vttParserScript:"/scripts/webvtt.js",instances:[],notCloned:["notCloned","vttParserScript","instances","getInstanceById","requestStylesheet","reqiestScript","isTouchDevice","vastOptions","displayOptions","getEventOffsetX","getEventOffsetY","getTranslateX","toggleElementText","getMobileOs","findClosestParent","activeVideoPlayerId","getInstanceIdByWrapperId","timer","timerPool","adList","adPool","isUserActive","isCurrentlyPlayingAd","initialAnimationSet"],version:"2.1.1",homepage:"https://www.fluidplayer.com/",activeVideoPlayerId:null,getInstanceById:function(e){for(var t=0;t<this.instances.length;t++)if(this.instances[t].videoPlayerId===e)return this.instances[t];return null},getInstanceIdByWrapperId:function(e){return void 0!==e?e.replace("fluid_video_wrapper_",""):null},requestStylesheet:function(e,t){if(!document.getElementById(e)){var n=document.getElementsByTagName("head")[0],i=document.createElement("link");i.id=e,i.rel="stylesheet",i.type="text/css",i.href=t,i.media="all",n.appendChild(i)}},requestScript:function(e,t){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.src=e,i.onreadystatechange=t,i.onload=t,n.appendChild(i)},isTouchDevice:function(){return!!("ontouchstart"in window||navigator.maxTouchPoints)},getMobileOs:function(){var e,t=navigator.userAgent,n={device:!1,userOs:!1,userOsVer:!1,userOsMajor:!1};if(t.match(/iPad/i)?(n.device="iPad",n.userOs="iOS",e=t.indexOf("OS ")):t.match(/iPhone/i)?(n.device="iPhone",n.userOs="iOS",e=t.indexOf("OS ")):t.match(/Android/i)?(n.userOs="Android",e=t.indexOf("Android ")):n.userOs=!1,"iOS"===n.userOs&&e>-1){var i=t.substr(e+3);-1!==i.indexOf(" ")&&(n.userOsVer=i.substring(0,i.indexOf(" ")).replace(/_/g,"."),n.userOsMajor=parseInt(n.userOsVer))}else"Android"===n.userOs&&e>-1?n.userOsVer=t.substr(e+8,3):n.userOsVer=!1;return n},getCurrentVideoDuration:function(){var e=document.getElementById(this.videoPlayerId);return e?e.duration:0},getClickThroughUrlFromLinear:function(e){var t=e.getElementsByTagName("VideoClicks");if(t.length){var n=t[0].getElementsByTagName("ClickThrough");if(n.length)return n[0].childNodes[0].nodeValue}return!1},getClickThroughUrlFromNonLinear:function(e){var t="";if(e.getElementsByTagName("NonLinear").length){var n=e.getElementsByTagName("NonLinearClickThrough");n.length&&(t=n[0].childNodes[0].nodeValue)}return t},getTrackingFromLinear:function(e){var t=e.getElementsByTagName("TrackingEvents");return t.length?t[0].getElementsByTagName("Tracking"):[]},getDurationFromLinear:function(e){var t=e.getElementsByTagName("Duration");return!(!t.length||void 0===t[0].childNodes[0])&&this.convertTimeStringToSeconds(t[0].childNodes[0].nodeValue)},getDurationFromNonLinear:function(e){var t=0,n=e.getElementsByTagName("NonLinear");return n.length&&void 0!==n[0].getAttribute("minSuggestedDuration")&&(t=this.convertTimeStringToSeconds(n[0].getAttribute("minSuggestedDuration"))),t},getDimensionFromNonLinear:function(e){var t={width:null,height:null},n=e.getElementsByTagName("NonLinear");return n.length&&(void 0!==n[0].getAttribute("width")&&(t.width=n[0].getAttribute("width")),void 0!==n[0].getAttribute("height")&&(t.height=n[0].getAttribute("height"))),t},getCreativeTypeFromStaticResources:function(e){var t="",n=e.getElementsByTagName("NonLinear");return n.length&&void 0!==n[0].childNodes[0]&&(t=n[0].getElementsByTagName("StaticResource")[0].getAttribute("creativeType")),t.toLowerCase()},getMediaFilesFromLinear:function(e){var t=e.getElementsByTagName("MediaFiles");return t.length?t[0].getElementsByTagName("MediaFile"):[]},getStaticResourcesFromNonLinear:function(e){var t=[],n=e.getElementsByTagName("NonLinear");return n.length&&(t=n[0].getElementsByTagName("StaticResource")),t},getMediaFileFromLinear:function(e){for(var t,n=this.getMediaFilesFromLinear(e),i=0;i<n.length;i++)if(n[i].getAttribute("type")||(t=n[i].childNodes[0].nodeValue),n[i].getAttribute("type")===this.displayOptions.layoutControls.mediaType)return n[i].childNodes[0].nodeValue;return t},getIconClickFromLinear:function(e){var t=e.getElementsByTagName("IconClicks");return t.length?t[0].getElementsByTagName("IconClickThrough")[0].innerHTML:(this.displayOptions.vastOptions.adCTAText=!1,"")},getStaticResourceFromNonLinear:function(e){for(var t,n=this.getStaticResourcesFromNonLinear(e),i=0;i<n.length;i++)if(n[i].getAttribute("type")||(t=n[i].childNodes[0].nodeValue),n[i].getAttribute("type")===this.displayOptions.staticResource)return n[i].childNodes[0].nodeValue;return t},registerTrackingEvents:function(e,t){for(var n=this.getTrackingFromLinear(e),i="",o=0,a=0;a<n.length;a++)switch(i=n[a].getAttribute("event")){case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":void 0===t.tracking[i]&&(t.tracking[i]=[]),void 0===t.stopTracking[i]&&(t.stopTracking[i]=[]),t.tracking[i].push(n[a].childNodes[0].nodeValue),t.stopTracking[i]=!1;break;case"progress":void 0===t.tracking[i]&&(t.tracking[i]=[]),o=this.convertTimeStringToSeconds(n[a].getAttribute("offset")),void 0===t.tracking[i][o]&&(t.tracking[i][o]={elements:[],stopTracking:!1}),t.tracking[i][o].elements.push(n[a].childNodes[0].nodeValue)}},registerImpressionEvents:function(e,t){if(e.length){t.impression=[];for(var n=0;n<e.length;n++)t.impression.push(e[n].childNodes[0].nodeValue)}},registerErrorEvents:function(e,t){null!=e&&1===e.length&&1===e[0].childNodes.length&&(t.errorUrl=e[0].childNodes[0].nodeValue)},announceError:function(e){if(void 0!==this.vastOptions.errorUrl&&this.vastOptions.errorUrl){e=void 0!==e?parseInt(e):900;var t=this.vastOptions.errorUrl.replace("[ERRORCODE]",e);this.callUris([t])}},announceLocalError:function(e,t){e=void 0!==e?parseInt(e):900,message="[Error] ("+e+"): ",message+=t||"Failed to load Vast",console.log(message)},getClickTrackingEvents:function(e){var t=[],n=e.getElementsByTagName("VideoClicks");if(n.length){var i=n[0].getElementsByTagName("ClickTracking");if(i.length)for(var o=0;o<i.length;o++)t.push(i[o].childNodes[0].nodeValue)}return t},getNonLinearClickTrackingEvents:function(e){var t="";if(e.getElementsByTagName("NonLinear").length){var n=e.getElementsByTagName("NonLinearClickTracking");n.length&&(t=n[0].childNodes[0].nodeValue)}return t},callUris:function(e){for(var t=0;t<e.length;t++)(new Image).src=e[t]},recalculateAdDimensions:function(e){if(!e&&void 0!==this.videoPlayerId)e=this.videoPlayerId;var t=document.getElementById(e),n=document.getElementById("vast_clickthrough_layer_"+e);n&&(n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px");var i=this.checkFullscreenSupport("fluid_video_wrapper_"+e),o=document.getElementById(e+"_fluid_control_fullscreen"),a=document.getElementById(e+"context_option_fullscreen");i?null===document[i.isFullscreen]?this.fullscreenOff(o,a):this.fullscreenOn(o,a):-1!==fullscreenTag.className.search(/\bpseudo_fullscreen\b/g)?(fullscreenTag.className+=" pseudo_fullscreen",this.fullscreenOn(o,a)):(fullscreenTag.className=fullscreenTag.className.replace(/\bpseudo_fullscreen\b/g,""),this.fullscreenOff(o,a))},prepareVast:function(e){var t=this,n=document.getElementById(this.videoPlayerId),i=[];i.length=0,i=t.findRoll(e);for(var o=0;o<i.length;o++){var a=i[o];!0!==t.adList[a].vastLoaded&&!0!==t.adList[a].error&&(t.parseVastTag(t.adList[a].vastTag,a),n.addEventListener("adId_"+a,t[e]))}},toggleLoader:function(e){if("browser"!==this.displayOptions.layoutControls.layout){var t=document.getElementById("vast_video_loading_"+this.videoPlayerId);t.style.display=e?"table":"none"}},sendRequest:function(e,t,n,i){var o=new XMLHttpRequest;o.onreadystatechange=i,o.open("GET",e,!0),o.withCredentials=t,o.timeout=n,o.send()},playMainVideoWhenVastFails:function(e){var t=this,n=document.getElementById(t.videoPlayerId);n.removeEventListener("loadedmetadata",t.switchPlayerToVastMode),n.pause(),t.toggleLoader(!1),t.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback(),t.vastOptions&&void 0!==this.vastOptions.errorUrl?t.announceError(e):t.announceLocalError(e),t.switchToMainVideo()},switchPlayerToVastMode:function(){},parseVastTag:function(e,t){var n=this,i={vastTagUrl:e,tracking:[],stopTracking:[],vastLoaded:!1};n.sendRequest(e,!0,n.displayOptions.vastOptions.vastTimeout,function(){var o=this;if(4===o.readyState&&200!==o.status)return n.adList[t].error=!0,void n.playMainVideoWhenVastFails(900);if(4===o.readyState&&200===o.status){var a=o.responseXML,l=a.getElementsByTagName("Impression");null!==l&&n.registerImpressionEvents(l,i);var r=a.getElementsByTagName("Error");null!==r&&n.registerErrorEvents(r,i),i.skipoffset=!1,i.adFinished=!1,i.vastTagUrl=e;var s=a.getElementsByTagName("Creative");if(void 0!==s&&s.length){var d=s[0].getElementsByTagName("Linear");if(null!=d&&d.length){var u=d[0];i.adType="linear",i.skipoffset=n.convertTimeStringToSeconds(u.getAttribute("skipoffset")),i.clickthroughUrl=n.getClickThroughUrlFromLinear(u),i.clicktracking=n.getClickTrackingEvents(u),i.duration=n.getDurationFromLinear(u),i.mediaFile=n.getMediaFileFromLinear(u),i.iconClick=n.getIconClickFromLinear(u),n.registerTrackingEvents(u,i)}void 0!==i.iconClick&&null!==i.iconClick&&i.iconClick.length&&(n.adList[t].landingPage=i.iconClick);var c=s[0].getElementsByTagName("NonLinearAds");if(null!=c&&c.length){var y=c[0];i.adType="nonLinear",i.clickthroughUrl=n.getClickThroughUrlFromNonLinear(y),i.clicktracking=n.getNonLinearClickTrackingEvents(y),i.duration=n.getDurationFromNonLinear(y),i.dimension=n.getDimensionFromNonLinear(y),i.staticResource=n.getStaticResourceFromNonLinear(y),i.creativeType=n.getCreativeTypeFromStaticResources(y),n.registerTrackingEvents(y,i)}if(n.adList[t].adType=i.adType?i.adType:"unknown",void 0!==i.mediaFile||void 0!==i.staticResource){n.adList[t].vastLoaded=!0,n.displayOptions.vastOptions.vastAdvanced.vastLoadedCallback(),n.adPool[t]=Object.assign({},i);var m=document.createEvent("Event");return m.initEvent("adId_"+t,!1,!0),void document.getElementById(n.videoPlayerId).dispatchEvent(m)}return n.adList[t].error=!0,void n.playMainVideoWhenVastFails(101)}return n.adList[t].error=!0,void n.playMainVideoWhenVastFails(101)}})},playRoll:function(e){var t=this,n=document.getElementById(t.videoPlayerId);if(t.adPool.hasOwnProperty(e)){var i=t.adList[e].roll;switch(t.vastOptions=t.adPool[e],i){case"midRoll":n.mainVideoCurrentTime=n.currentTime-1;break;case"postRoll":n.mainVideoCurrentTime=0,t.autoplayAfterAd=!1,n.autoplayAfterAd=!1,n.currentTime=t.mainVideoDuration}var o,a=function(){if(t.adFinished)n.removeEventListener("timeupdate",a);else{var e=Math.floor(n.currentTime);t.scheduleTrackingEvent(e,t.vastOptions.duration),e>=t.vastOptions.duration-1&&(n.removeEventListener("timeupdate",a),t.adFinished=!0)}};o=e,t.switchPlayerToVastMode=function(){t.vastOptions.duration||(t.vastOptions.duration=n.duration),t.addClickthroughLayer(t.videoPlayerId),!1!==t.vastOptions.skipoffset&&t.addSkipButton(),t.addCTAButton(t.adList[o].landingPage),t.addAdCountdown(),n.removeAttribute("controls"),"browser"!==t.displayOptions.layoutControls.layout&&null!==document.getElementById(t.videoPlayerId+"_fluid_controls_progress_container")&&(document.getElementById(t.videoPlayerId+"_vast_control_currentprogress").style.backgroundColor=t.displayOptions.layoutControls.adProgressColor),t.displayOptions.vastOptions.adText&&t.addAdPlayingText(t.displayOptions.vastOptions.adText),t.toggleLoader(!1),t.adList[o].played=!0,t.adFinished=!1,n.play(),t.trackSingleEvent("impression"),n.removeEventListener("loadedmetadata",t.switchPlayerToVastMode)},n.pause(),n.addEventListener("loadedmetadata",t.switchPlayerToVastMode),t.mainVideoCurrentTime=n.currentTime,n.src=t.vastOptions.mediaFile,t.isCurrentlyPlayingAd=!0,n.load(),n.addEventListener("ended",t.onVastAdEnded),n.addEventListener("timeupdate",a)}else t.announceLocalError(101)},scheduleTrackingEvent:function(e,t){var n=this;0==e&&n.trackSingleEvent("start"),void 0!==n.vastOptions.tracking.progress&&n.vastOptions.tracking.progress.length&&void 0!==n.vastOptions.tracking.progress[e]&&n.trackSingleEvent("progress",e),e==Math.floor(t/4)&&n.trackSingleEvent("firstQuartile"),e==Math.floor(t/2)&&n.trackSingleEvent("midpoint"),e==Math.floor(3*t/4)&&n.trackSingleEvent("thirdQuartile"),e>=t-1&&n.trackSingleEvent("complete")},trackSingleEvent:function(e,t){var n=this,i=[];switch(i.length=0,e){case"start":case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":!1===n.vastOptions.stopTracking[e]&&(null!==n.vastOptions.tracking[e]&&(i=n.vastOptions.tracking[e]),n.vastOptions.stopTracking[e]=!0);break;case"progress":n.vastOptions.tracking.progress[t].elements.forEach(function(e,o){!1===n.vastOptions.tracking.progress[t].stopTracking&&n.vastOptions.tracking.progress[t].elements.length&&(i=n.vastOptions.tracking.progress[t].elements),n.vastOptions.tracking.progress[t].stopTracking=!0});break;case"impression":void 0!==n.vastOptions.impression&&null!==n.vastOptions.impression&&"unknown"!=typeof n.vastOptions.impression.length&&(i=n.vastOptions.impression)}n.callUris(i)},completeNonLinearStatic:function(e){var t=this;t.closeNonLinear(e),0==t.adFinished&&(t.adFinished=!0,t.trackSingleEvent("complete")),clearInterval(t.nonLinearTracking)},createNonLinearStatic:function(e){var t=this,n=document.getElementById(t.videoPlayerId);if(t.adPool.hasOwnProperty(e)&&!0!==t.adPool[e].error){t.vastOptions=t.adPool[e],t.createBoard(e),t.adFinished=!1,t.trackSingleEvent("start");var i=t.adList[e].nonLinearDuration?t.adList[e].nonLinearDuration:t.vastOptions.duration;t.nonLinearTracking=setInterval(function(){if(!0!==t.adFinished){var e=Math.floor(n.currentTime);t.scheduleTrackingEvent(e,i),e>=i-1&&(t.adFinished=!0)}},400),time=parseInt(t.getCurrentTime())+parseInt(i),t.scheduleTask({time:time,closeStaticAd:e})}else t.announceLocalError(101)},createBoard:function(e){var t=this,n=t.adPool[e];if(void 0!==n.staticResource&&-1!==t.supportedStaticTypes.indexOf(n.creativeType)){t.adList[e].played=!0;var i=document.getElementById(t.videoPlayerId),o=i.clientWidth,a=(i.clientHeight,document.createElement("div")),l=t.adList[e].vAlign?t.adList[e].vAlign:t.nonLinearVerticalAlign,r=new Image;r.src=n.staticResource,r.id="fluid_nonLinear_imgCreative_"+e+"_"+t.videoPlayerId,r.onload=function(){void 0!==t.adList[e].size?(origWidth=t.adList[e].size.split("x")[0],origHeight=t.adList[e].size.split("x")[1]):n.dimension.width&&n.dimension.height?(origWidth=n.dimension.width,origHeight=n.dimension.height):(origWidth=r.width,origHeight=r.height),origWidth>o?(newBannerWidth=o-5,newBannerHeight=origHeight*newBannerWidth/origWidth):(newBannerWidth=origWidth,newBannerHeight=origHeight),img=document.getElementById(r.id),img.width=newBannerWidth,img.height=newBannerHeight},a.id="fluid_nonLinear_"+e,a.className="fluid_nonLinear_"+l,a.innerHTML=r.outerHTML,a.onclick=function(){void 0!==n.clickthroughUrl&&window.open(n.clickthroughUrl),void 0!==n.clicktracking&&t.callUris([n.clicktracking])},void 0!==n.clickthroughUrl&&(a.style.cursor="pointer");var s=document.createElement("div");s.id="close_button_"+t.videoPlayerId,s.className="close_button",s.innerHTML="",s.title=t.displayOptions.layoutControls.closeButtonCaption,s.onclick=function(e){return this.parentElement.remove(t),void 0!==e.stopImmediatePropagation&&e.stopImmediatePropagation(),t.adFinished=!0,clearInterval(t.nonLinearTracking),!1},a.appendChild(s),i.parentNode.insertBefore(a,i.nextSibling)}else t.adList[e].error=!0},closeNonLinear:function(e){var t=document.getElementById("fluid_nonLinear_"+e);t&&t.remove()},preRoll:function(e){var t=fluidPlayerClass.getInstanceById(this.id),n=document.getElementById(this.getAttribute("id"));n.removeEventListener(e.type,t.preRoll),t.initialStart=!0;var i=e.type.replace("adId_","");!0!==t.adList[i].played&&("linear"==t.adList[i].adType&&(t.toggleLoader(!0),t.playRoll(i)),"nonLinear"==t.adList[i].adType&&(n.play(),t.createNonLinearStatic(i)))},midRoll:function(e){var t=fluidPlayerClass.getInstanceById(this.id);document.getElementById(this.getAttribute("id")).removeEventListener(e.type,t.midRoll);var n=e.type.replace("adId_","");if(!0!==t.adList[n].played){var i=t.adList[n].timer;"string"==typeof i&&-1!==i.indexOf("%")&&(i=i.replace("%",""),i=Math.floor(t.mainVideoDuration/100*i)),t.scheduleTask({time:i,playRoll:"midRoll",adListId:n})}},postRoll:function(e){var t=fluidPlayerClass.getInstanceById(this.id);document.getElementById(this.getAttribute("id")).removeEventListener(e.type,t.postRoll);var n=e.type.replace("adId_","");t.scheduleTask({time:Math.floor(t.mainVideoDuration),playRoll:"postRoll",adListId:n})},onPauseRoll:function(e){var t=fluidPlayerClass.getInstanceById(this.id);document.getElementById(this.getAttribute("id")).removeEventListener(e.type,t.onPauseRoll);var n=e.type.replace("adId_","");if("nonLinear"==t.adList[n].adType){if(!t.adPool.hasOwnProperty(n)||!0===t.adPool[n].error)return void t.announceLocalError(101);t.createBoard(n),onPauseAd=document.getElementById("fluid_nonLinear_"+n),onPauseAd.style.display="none"}},hasValidOnPauseAd:function(){var e=this.findRoll("onPauseRoll");return 0!=e.length&&this.adList[e[0]]&&!1===this.adList[e[0]].error},toggleOnPauseAd:function(){var e=this,t=document.getElementById(this.videoPlayerId);e.hasValidOnPauseAd()&&!e.isCurrentlyPlayingAd&&(onPauseRoll=e.findRoll("onPauseRoll"),adListId=onPauseRoll[0],e.vastOptions=e.adPool[adListId],onPauseAd=document.getElementById("fluid_nonLinear_"+adListId),onPauseAd&&t.paused?(onPauseAd.style.display="flex",e.adList[adListId].played=!1,e.trackingOnPauseNonLinearAd(adListId,"start")):onPauseAd&&!t.paused&&(onPauseAd.style.display="none",e.adFinished=!0,e.trackingOnPauseNonLinearAd(adListId,"complete")))},trackingOnPauseNonLinearAd:function(e,t){var n=this;n.adPool.hasOwnProperty(e)&&!0!==n.adPool[e].error?(n.vastOptions=n.adPool[e],n.trackSingleEvent(t)):n.announceLocalError(101)},adTimer:function(){var e=this;1!=e.isTimer&&(e.isTimer=!e.isTimer,e.timer=setInterval(function(){for(var t in e.timerPool){if(time=Math.floor(e.getCurrentTime()),time!=t)break;if(e.timerPool[t]&&e.timerPool[t].hasOwnProperty("playRoll")){var n=e.timerPool[t].adListId;e.timerPool[t].playRoll;0==e.adList[n].played&&(e.vastOptions=e.adPool[n],"linear"==e.vastOptions.adType&&(e.toggleLoader(!0),e.playRoll(n)),"nonLinear"==e.vastOptions.adType&&e.createNonLinearStatic(n),delete e.timerPool[t])}if(e.timerPool[t]&&e.timerPool[t].hasOwnProperty("closeStaticAd")){var i=e.timerPool[t].closeStaticAd;1==e.adList[i].played&&(e.completeNonLinearStatic(i),delete e.timerPool[t])}}},800))},scheduleTask:function(e){this.timerPool[e.time]=e},switchToMainVideo:function(){var e=this,t=document.getElementById(e.videoPlayerId);(t.src=e.originalSrc,t.load(),e.setBuffering(),void 0!==t.mainVideoCurrentTime?t.currentTime=t.mainVideoCurrentTime:t.currentTime=0,t.play(),0==e.autoplayAfterAd&&t.pause(),e.isCurrentlyPlayingAd=!1,e.removeClickthrough(),e.removeSkipButton(),e.removeAdCountdown(),e.removeAdPlayingText(),e.removeCTAButton(),e.adFinished=!0,e.displayOptions.vastOptions.vastAdvanced.vastVideoEndedCallback(),e.vastOptions=null,"browser"!==e.displayOptions.layoutControls.layout)&&(null!==document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container")&&(backgroundColor=e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"white",document.getElementById(e.videoPlayerId+"_vast_control_currentprogress").style.backgroundColor=backgroundColor));t.removeEventListener("ended",e.onVastAdEnded),t.addEventListener("ended",e.onMainVideoEnded),"browser"===e.displayOptions.layoutControls.layout&&t.setAttribute("controls","controls")},onVastAdEnded:function(){fluidPlayerClass.getInstanceById(this.id).switchToMainVideo(),fluidPlayerClass.getInstanceById(this.id).vastOptions=null,fluidPlayerClass.getInstanceById(this.id).adFinished=!0},onMainVideoEnded:function(){var e=fluidPlayerClass.getInstanceById(this.id);Math.floor(e.getCurrentTime())>=Math.floor(e.mainVideoDuration)&&clearInterval(e.timer)},getCurrentTime:function(){return this.isCurrentlyPlayingAd?this.mainVideoCurrentTime:document.getElementById(this.videoPlayerId).currentTime},addSkipButton:function(){var e=document.getElementById(this.videoPlayerId),t=document.createElement("div");t.id="skip_button_"+this.videoPlayerId,t.className="skip_button skip_button_disabled",t.innerHTML=this.displayOptions.vastOptions.skipButtonCaption.replace("[seconds]",this.vastOptions.skipoffset),document.getElementById("fluid_video_wrapper_"+this.videoPlayerId).appendChild(t),e.addEventListener("timeupdate",this.decreaseSkipOffset,!1)},addAdCountdown:function(){var e=document.getElementById(this.videoPlayerId),t=document.getElementById("fluid_video_wrapper_"+this.videoPlayerId),n=document.getElementById("vast_clickthrough_layer_"+this.videoPlayerId),i=document.createElement("div"),o=this.pad(parseInt(this.currentVideoDuration/60))+":"+this.pad(parseInt(this.currentVideoDuration%60)),a=parseInt(o);i.id="ad_countdown"+this.videoPlayerId,i.className="ad_countdown",i.innerHTML="Ad - "+a,this.isUserActive||(i.style.display="inline-block"),t.appendChild(i),e.addEventListener("timeupdate",this.decreaseAdCountdown,!1),n.addEventListener("mouseover",function(){i.style.display="none"},!1)},decreaseAdCountdown:function(){var e=fluidPlayerClass.getInstanceById(this.id),t=parseInt(e.currentVideoDuration)-parseInt(this.currentTime),n=document.getElementById("ad_countdown"+e.videoPlayerId);n?n.innerHTML="Ad - "+e.pad(parseInt(t/60))+":"+e.pad(parseInt(t%60)):this.removeEventListener("timeupdate",e.decreaseAdCountdown)},removeAdCountdown:function(){var e=document.getElementById("ad_countdown"+this.videoPlayerId);e&&e.parentElement.removeChild(e)},toggleAdCountdown:function(e){var t=document.getElementById("ad_countdown"+this.videoPlayerId);t&&(t.style.display=e?"inline-block":"none")},addAdPlayingText:function(){var e=this.displayOptions.vastOptions.adText,t=document.createElement("div");t.id=this.videoPlayerId+"_fluid_ad_playing",this.displayOptions.layoutControls.primaryColor&&(t.style.backgroundColor=this.displayOptions.layoutControls.primaryColor,t.style.opacity=1),t.className="fluid_ad_playing",t.innerText=e,document.getElementById("fluid_video_wrapper_"+this.videoPlayerId).appendChild(t)},removeAdPlayingText:function(){var e=document.getElementById(this.videoPlayerId+"_fluid_ad_playing");e&&e.parentElement.removeChild(e)},addCTAButton:function(e){if(this.displayOptions.vastOptions.adCTAText){var t=document.getElementById(this.videoPlayerId),n=document.createElement("div");n.id=this.videoPlayerId+"_fluid_cta",n.className="fluid_ad_cta";var i=document.createElement("a");i.href=this.vastOptions.clickthroughUrl,i.target="_blank",i.innerHTML=this.displayOptions.vastOptions.adCTAText+'<br/><span class="add_icon_clickthrough">'+e+"</span>",i.onclick=function(){return t.paused||t.pause(),!0},n.appendChild(i),document.getElementById("fluid_video_wrapper_"+this.videoPlayerId).appendChild(n)}},removeCTAButton:function(){var e=document.getElementById(this.videoPlayerId+"_fluid_cta");e&&e.parentElement.removeChild(e)},decreaseSkipOffset:function(){var e=this,t=fluidPlayerClass.getInstanceById(e.id),n=t.vastOptions.skipoffset-Math.floor(e.currentTime),i=document.getElementById("skip_button_"+t.videoPlayerId);i?n>=1?i.innerHTML=t.displayOptions.vastOptions.skipButtonCaption.replace("[seconds]",n):(i.innerHTML='<a href="javascript:;" id="skipHref_'+t.videoPlayerId+'" onclick="fluidPlayerClass.getInstanceById(\''+t.videoPlayerId+"').pressSkipButton();\">"+t.displayOptions.vastOptions.skipButtonClickCaption+"</a>",i.className=i.className.replace(/\bskip_button_disabled\b/,""),e.removeEventListener("timeupdate",t.decreaseSkipOffset)):(n=0,e.removeEventListener("timeupdate",e.decreaseSkipOffset))},pressSkipButton:function(){this.removeSkipButton(),this.removeAdPlayingText(),this.removeCTAButton(),this.displayOptions.vastOptions.vastAdvanced.vastVideoSkippedCallback();var e=document.createEvent("Event");e.initEvent("ended",!1,!0),document.getElementById(this.videoPlayerId).dispatchEvent(e)},removeSkipButton:function(){btn=document.getElementById("skip_button_"+this.videoPlayerId),btn&&btn.parentElement.removeChild(btn)},addClickthroughLayer:function(){var e=this,t=document.getElementById(e.videoPlayerId),n=document.getElementById("fluid_video_wrapper_"+e.videoPlayerId),i=document.createElement("div");i.className="vast_clickthrough_layer",i.id="vast_clickthrough_layer_"+e.videoPlayerId,i.setAttribute("style","position: absolute; cursor: pointer; top: 0; left: 0; width: "+t.offsetWidth+"px; height: "+t.offsetHeight+"px;"),n.appendChild(i);var o=function(){window.open(e.vastOptions.clickthroughUrl),void 0!==e.vastOptions.clicktracking&&e.callUris(e.vastOptions.clicktracking)},a=document.getElementById("vast_clickthrough_layer_"+e.videoPlayerId),l=fluidPlayerClass.getMobileOs(),r="iPhone"===l.device&&!1!==l.userOsMajor&&l.userOsMajor<=9;a.onclick=function(){t.paused?r&&!e.suppressClickthrough?(o(),e.suppressClickthrough=!0):t.play():o()}},removeClickthrough:function(){var e=document.getElementById("vast_clickthrough_layer_"+this.videoPlayerId);e&&e.parentNode.removeChild(e)},getCurrentSrc:function(){var e=document.getElementById(this.videoPlayerId).getElementsByTagName("source");return e.length?e[0].getAttribute("src"):null},convertTimeStringToSeconds:function(e){if(e&&e.match(/^(\d){2}(:[0-5][0-9]){2}(.(\d){1,3})?$/)){var t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)}return!1},onRecentWaiting:function(){var e=fluidPlayerClass.getInstanceById(this.id);e.recentWaiting=!0,setTimeout(function(){e.recentWaiting=!1},1e3)},onFluidPlayerPause:function(){var e=this;setTimeout(function(){if(!fluidPlayerClass.getInstanceById(e.id).recentWaiting){var t=document.createEvent("CustomEvent");t.initEvent("fluidplayerpause",!1,!0),e.dispatchEvent(t)}},100)},checkShouldDisplayVolumeControls:function(){return"iOS"!==fluidPlayerClass.getMobileOs().userOs},generateCustomControlTags:function(){return'<div class="fluid_controls_left">   <div id="'+this.videoPlayerId+'_fluid_control_playpause" class="fluid_button fluid_button_play"></div></div><div id="'+this.videoPlayerId+'_fluid_controls_progress_container" class="fluid_controls_progress_container fluid_slider">   <div class="fluid_controls_progress">      <div id="'+this.videoPlayerId+'_vast_control_currentprogress" class="fluid_controls_currentprogress">          <div id="'+this.videoPlayerId+'_vast_control_currentpos" class="fluid_controls_currentpos"></div>      </div>   </div>   <div id="'+this.videoPlayerId+'_buffered_amount" class="fluid_controls_buffered"></div></div><div class="fluid_controls_right">   <div id="'+this.videoPlayerId+'_fluid_control_fullscreen" class="fluid_button fluid_button_fullscreen"></div>   <div id="'+this.videoPlayerId+'_fluid_control_theatre" class="fluid_button fluid_button_theatre"></div>   <div id="'+this.videoPlayerId+'_fluid_control_video_source" class="fluid_button fluid_button_video_source"></div>   <div id="'+this.videoPlayerId+'_fluid_control_playback_rate" class="fluid_button fluid_button_playback_rate"></div>   <div id="'+this.videoPlayerId+'_fluid_control_download" class="fluid_button fluid_button_download"></div>   <div id="'+this.videoPlayerId+'_fluid_control_volume_container" class="fluid_control_volume_container fluid_slider">       <div id="'+this.videoPlayerId+'_fluid_control_volume" class="fluid_control_volume">           <div id="'+this.videoPlayerId+'_fluid_control_currentvolume" class="fluid_control_currentvolume">               <div id="'+this.videoPlayerId+'_fluid_control_volume_currentpos" class="fluid_control_volume_currentpos"></div>           </div>       </div>   </div>   <div id="'+this.videoPlayerId+'_fluid_control_mute" class="fluid_button fluid_button_volume"></div>   <div id="'+this.videoPlayerId+'_fluid_control_duration" class="fluid_fluid_control_duration">00:00 / 00:00</div></div>'},controlPlayPauseToggle:function(e,t){var n=document.getElementById(e+"_fluid_control_playpause"),i=document.getElementById(e+"context_option_play"),o=fluidPlayerClass.getInstanceById(e),a=document.getElementById(o.videoPlayerId+"_fluid_controls_container");document.getElementById(e+"_fluid_initial_play")&&(document.getElementById(e+"_fluid_initial_play").style.display="none",document.getElementById(e+"_fluid_initial_play_button").style.opacity="1"),t?(!o.isCurrentlyPlayingAd&&o.displayOptions.layoutControls.playPauseAnimation&&o.playPauseAnimationToggle(!0,e),n.className=n.className.replace(/\bfluid_button_play\b/g,"fluid_button_pause"),a.classList.remove("initial_controls_show"),null!==i&&(i.innerHTML="Pause")):(!o.isCurrentlyPlayingAd&&o.displayOptions.layoutControls.playPauseAnimation&&o.playPauseAnimationToggle(!1,e),n.className=n.className.replace(/\bfluid_button_pause\b/g,"fluid_button_play"),a.classList.add("initial_controls_show"),null!==i&&(i.innerHTML="Play"))},playPauseAnimationToggle:function(e,t){e?(document.getElementById(t+"_fluid_state_button").classList.remove("fluid_initial_pause_button"),document.getElementById(t+"_fluid_state_button").classList.add("fluid_initial_play_button")):(document.getElementById(t+"_fluid_state_button").classList.remove("fluid_initial_play_button"),document.getElementById(t+"_fluid_state_button").classList.add("fluid_initial_pause_button")),document.getElementById(t+"_fluid_initial_play").classList.add("transform-active"),setTimeout(function(){document.getElementById(t+"_fluid_initial_play").classList.remove("transform-active")},800)},contolProgressbarUpdate:function(e){var t=fluidPlayerClass.getInstanceById(e),n=document.getElementById(e);document.getElementById(e+"_vast_control_currentprogress").style.width=n.currentTime/t.currentVideoDuration*100+"%"},contolDurationUpdate:function(e){var t=fluidPlayerClass.getInstanceById(e),n=document.getElementById(e),i=t.pad(parseInt(n.currentTime/60))+":"+t.pad(parseInt(n.currentTime%60))+" / "+t.pad(parseInt(t.currentVideoDuration/60))+":"+t.pad(parseInt(t.currentVideoDuration%60));document.getElementById(e+"_fluid_control_duration").innerHTML=i},pad:function(e){return e<10?"0"+e:e},contolVolumebarUpdate:function(e){var t=fluidPlayerClass.getInstanceById(e);if("browser"!==t.displayOptions.layoutControls.layout){var n=document.getElementById(e),i=document.getElementById(e+"_fluid_control_currentvolume"),o=document.getElementById(e+"_fluid_control_volume_currentpos"),a=document.getElementById(e+"_fluid_control_volume").clientWidth,l=o.clientWidth,r=document.getElementById(e+"_fluid_control_mute"),s=document.getElementById(e+"context_option_mute");n.volume&&(t.latestVolume=n.volume),n.volume?(r.className=r.className.replace(/\bfluid_button_mute\b/g,"fluid_button_volume"),null!==s&&(s.innerHTML="Mute")):(r.className=r.className.replace(/\bfluid_button_volume\b/g,"fluid_button_mute"),null!==s&&(s.innerHTML="Unmute")),i.style.width=n.volume*a+"px",o.style.left=n.volume*a-l/2+"px"}},muteToggle:function(e){var t=fluidPlayerClass.getInstanceById(e),n=document.getElementById(e);n.volume?n.volume=0:n.volume=t.latestVolume},checkFullscreenSupport:function(e){var t=document.getElementById(e);return t.mozRequestFullScreen?{goFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen",isFullscreen:"mozFullScreenElement"}:t.webkitRequestFullscreen?{goFullscreen:"webkitRequestFullscreen",exitFullscreen:"webkitExitFullscreen",isFullscreen:"webkitFullscreenElement"}:t.msRequestFullscreen?{goFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen",isFullscreen:"msFullscreenElement"}:!!t.requestFullscreen&&{goFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen",isFullscreen:"fullscreenElement"}},fullscreenOff:function(e,t){e.className=e.className.replace(/\bfluid_button_fullscreen_exit\b/g,"fluid_button_fullscreen"),null!==t&&(t.innerHTML="Fullscreen",this.fullscreenMode=!1)},fullscreenOn:function(e,t){e.className=e.className.replace(/\bfluid_button_fullscreen\b/g,"fluid_button_fullscreen_exit"),null!==t&&(t.innerHTML="Exit Fullscreen",this.fullscreenMode=!0)},fullscreenToggle:function(){fluidPlayerClass.activeVideoPlayerId=this.videoPlayerId;var e=document.getElementById("fluid_video_wrapper_"+this.videoPlayerId),t=this.checkFullscreenSupport("fluid_video_wrapper_"+this.videoPlayerId),n=document.getElementById(this.videoPlayerId+"_fluid_control_fullscreen"),i=document.getElementById(this.videoPlayerId+"context_option_fullscreen");if(this.theatreMode&&this.theatreToggle(),t){var o="";null===document[t.isFullscreen]?(o="videoPlayerTag."+t.goFullscreen+"();",this.fullscreenOn(n,i)):(o="document."+t.exitFullscreen+"();",this.fullscreenOff(n,i)),new Function("videoPlayerTag",o)(e)}else-1!==e.className.search(/\bpseudo_fullscreen\b/g)?(e.className=e.className.replace(/\bpseudo_fullscreen\b/g,""),this.fullscreenOff(n,i)):(e.className+=" pseudo_fullscreen",this.fullscreenOn(n,i))},findClosestParent:function(e,t){var n,i;if(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)}),e[n](t))return e;for(;e;){if((i=e.parentElement)&&i[n](t))return i;e=i}return null},getTranslateX:function(e){var t=null;try{var n=e.style.transform.match(/translate3d\((-?\d+px,\s?){2}-?\d+px\)/);n&&n.length&&(t=n[0].replace("translate3d(","").replace(")","").replace(/\s/g,"").replace(/px/g,"").split(","))}catch(e){t=null}return t&&3===t.length?parseInt(t[0]):0},getEventOffsetX:function(e,t){for(var n=0,i=0;t&&!isNaN(t.offsetLeft);)i=fluidPlayerClass.getTranslateX(t),"BODY"===t.tagName?n+=t.offsetLeft+t.clientLeft+i-(t.scrollLeft||document.documentElement.scrollLeft):n+=t.offsetLeft+t.clientLeft+i-t.scrollLeft,t=t.offsetParent;return(void 0!==e.touches&&void 0!==e.touches[0]?e.touches[0].clientX:e.clientX)-n},getEventOffsetY:function(e,t){var n=1,i=fluidPlayerClass.findClosestParent(t,'div[id^="fluid_video_wrapper_"]');if(i){var o=i.id.replace("fluid_video_wrapper_",""),a=fluidPlayerClass.checkFullscreenSupport("fluid_video_wrapper_"+o);a&&document[a.isFullscreen]&&(n=0)}for(var l=0;t&&!isNaN(t.offsetTop);)"BODY"===t.tagName?l+=t.offsetTop-(t.scrollTop||document.documentElement.scrollTop)*n:l+=t.offsetTop-t.scrollTop*n,t=t.offsetParent;return e.clientY-l},onProgressbarMouseDown:function(e){var t=fluidPlayerClass.getInstanceById(e);if(t.displayOptions.layoutControls.playPauseAnimation=!1,!t.isCurrentlyPlayingAd){var n=document.getElementById(e),i=n.paused;i||n.pause(),document.addEventListener("mouseup",l),document.addEventListener("touchend",l),document.addEventListener("mousemove",a),document.addEventListener("touchmove",a)}function o(e,i){var o=document.getElementById(e+"_fluid_controls_progress_container").clientWidth;o&&(n.currentTime=t.currentVideoDuration*i/o)}function a(n){var i=fluidPlayerClass.getEventOffsetX(n,document.getElementById(e+"_fluid_controls_progress_container"));o(e,i),t.contolProgressbarUpdate(t.videoPlayerId),t.contolDurationUpdate(t.videoPlayerId)}function l(r){document.removeEventListener("mousemove",a),document.removeEventListener("touchmove",a),document.removeEventListener("mouseup",l),document.removeEventListener("touchend",l);var s=fluidPlayerClass.getEventOffsetX(r,document.getElementById(e+"_fluid_controls_progress_container"));isNaN(s)||o(e,s),i||n.play(),t.initialAnimationSet&&setTimeout(function(){t.displayOptions.layoutControls.playPauseAnimation=t.initialAnimationSet},200)}},onVolumebarMouseDown:function(e){function t(e,t){var n=document.getElementById(e),i=document.getElementById(e+"_fluid_control_volume_container").clientWidth;if(i){var o=t/i;o<.05?o=0:o>.95&&(o=1),n.volume=o}}function n(n){var i=fluidPlayerClass.getEventOffsetX(n,document.getElementById(e+"_fluid_control_volume_container"));t(e,i)}function i(o){document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchend",i);var a=fluidPlayerClass.getEventOffsetX(o,document.getElementById(e+"_fluid_control_volume_container"));isNaN(a)||t(e,a)}document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)},setVastList:function(){var e,t,n=this,i={},o={id:null,roll:null,played:!1,vastLoaded:!1,error:!1},a=0,l=function(e){var t=!1;switch(e.roll){case"midRoll":void 0===e.timer&&(t=!0)}return t};if(n.displayOptions.vastOptions.hasOwnProperty("adList"))for(var r in n.displayOptions.vastOptions.adList)adItem=n.displayOptions.vastOptions.adList[r],e=adItem,t=void 0,t=!1,e.vastTag||(n.announceLocalError(102,'"vastTag" property is missing from adList.'),t=!0),e.roll||(n.announceLocalError(102,'"roll" is missing from adList.'),t=!0),-1===n.availableRolls.indexOf(e.roll)&&(n.announceLocalError(102,"Only "+n.availableRolls.join(",")+" rolls are supported."),t=!0),e.size&&-1===n.supportedNonLinearAd.indexOf(e.size)&&(n.announceLocalError(102,"Only "+n.supportedNonLinearAd.join(",")+" size are supported."),t=!0),t?n.announceLocalError(102,"Wrong adList parameters."):(id="ID"+a,i[id]=Object.assign({},o),i[id]=Object.assign(i[id],n.displayOptions.vastOptions.adList[r]),"midRoll"==adItem.roll&&(i[id].error=l("midRoll",adItem)),i[id].id=id,a++);n.adList=i},findRoll:function(e){var t=[];if(t.length=0,e&&this.hasOwnProperty("adList")){for(var n in this.adList)this.adList[n].roll==e&&t.push(n);return t}},volumeChange:function(e,t){var n=document.getElementById(e),i=n.volume;"asc"==t?i+=.05:"desc"==t&&(i-=.05),i<.05?i=0:i>.95&&(i=1),n.volume=i},currentTimeChange:function(e,t){var n=fluidPlayerClass.getInstanceById(e);if(!n.isCurrentlyPlayingAd){var i=document.getElementById(e);i.currentTime=n.getNewCurrentTimeValueByKeyCode(t,i.currentTime,i.duration)}},getNewCurrentTimeValueByKeyCode:function(e,t,n){var i=t;switch(e){case 37:i=(i-=5)<5?0:i;break;case 39:i=(i+=5)>n-5?n:i;break;case 35:i=n;break;case 36:i=0;break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:if(e<58&&e>47)i=n*(10*(e-48))/100}return i},handleMouseenter:function(){var e=fluidPlayerClass.getInstanceIdByWrapperId(this.getAttribute("id")),t=fluidPlayerClass.getInstanceById(e),n=document.getElementById(e);t.captureKey||(t.captureKey=function(i){i.stopPropagation();var o=i.keyCode;switch(o){case 70:t.fullscreenToggle(),i.preventDefault();break;case 13:case 32:t.playPauseToggle(n),i.preventDefault();break;case 77:t.muteToggle(e),i.preventDefault();break;case 38:t.volumeChange(e,"asc"),i.preventDefault();break;case 40:t.volumeChange(e,"desc"),i.preventDefault();break;case 37:case 39:case 35:case 36:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:t.currentTimeChange(e,o),i.preventDefault()}return!1},document.addEventListener("keydown",t.captureKey,!0))},handleMouseleave:function(){var e=this,t=fluidPlayerClass.getInstanceIdByWrapperId(e.getAttribute("id")),n=fluidPlayerClass.getInstanceById(t);n.isCurrentlyPlayingAd&&n.toggleAdCountdown(!0),window.addEventListener("click",function(t){var n=fluidPlayerClass.getInstanceIdByWrapperId(e.getAttribute("id")),i=fluidPlayerClass.getInstanceById(n);document.getElementById("fluid_video_wrapper_"+n).contains(t.target)||t.target.id=="skipHref_"+n||(document.removeEventListener("keydown",i.captureKey,!0),delete i.captureKey,i.theatreMode&&i.theatreToggle())})},keyboardControl:function(){var e=document.getElementById("fluid_video_wrapper_"+this.videoPlayerId);e.addEventListener("click",this.handleMouseenter,!1),e.addEventListener("mouseleave",this.handleMouseleave,!1)},initialPlay:function(){var e=fluidPlayerClass.getInstanceById(this.id);e.displayOptions.layoutControls.playButtonShowing||document.getElementById(e.videoPlayerId+"_fluid_controls_container").classList.remove("initial_controls_show");e.initialStart||(e.playPauseToggle(this),this.removeEventListener("play",e.initialPlay))},playPauseToggle:function(e){var t=fluidPlayerClass.getInstanceById(e.id),n=!1,i=t.findRoll("preRoll");if(t.initialStart||0==i.length)t.initialStart||i.length>0||(t.initialStart=!0,n=!0,t.displayOptions.vastOptions.vastAdvanced.noVastVideoCallback()),"browser"!==t.displayOptions.layoutControls.layout&&(e.paused?e.play():n||e.pause()),t.toggleOnPauseAd();else{var o=window.navigator.userAgent,a=fluidPlayerClass.getMobileOs();!1===a.userOs&&!1===a.device||!(window.chrome||-1!==o.indexOf("crios")||0===window.navigator.vendor.indexOf("Google")&&-1!==o.indexOf("chrome"))||(e.src=fluidPlayerScriptLocation+"blank.mp4",e.play()),t.initialStart=!0,t.prepareVast("preRoll")}t.prepareVast("onPauseRoll"),t.prepareVast("postRoll"),t.prepareVast("midRoll"),t.adTimer();var l=document.getElementById(t.videoPlayerId+"_fluid_html_on_pause");l&&!t.isCurrentlyPlayingAd&&(e.paused?l.style.display="flex":l.style.display="none")},setCustomControls:function(){var e=this,t=document.getElementById(this.videoPlayerId);document.getElementById(this.videoPlayerId+"_fluid_control_playpause").addEventListener("click",function(){e.initialStart||t.removeEventListener("play",e.initialPlay),e.playPauseToggle(t)},!1),document.getElementById(e.videoPlayerId).addEventListener("play",function(){e.controlPlayPauseToggle(e.videoPlayerId,!0),e.contolVolumebarUpdate(e.videoPlayerId)},!1),document.getElementById(e.videoPlayerId).addEventListener("fluidplayerpause",function(){e.controlPlayPauseToggle(e.videoPlayerId,!1)},!1),t.addEventListener("timeupdate",function(){e.contolProgressbarUpdate(e.videoPlayerId),e.contolDurationUpdate(e.videoPlayerId)}),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("mousedown",function(t){e.onProgressbarMouseDown(e.videoPlayerId)},!1),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("touchstart",function(t){e.onProgressbarMouseDown(e.videoPlayerId)},!1),document.getElementById(e.videoPlayerId+"_fluid_control_volume_container").addEventListener("mousedown",function(t){e.onVolumebarMouseDown(e.videoPlayerId)},!1),document.getElementById(e.videoPlayerId+"_fluid_control_volume_container").addEventListener("touchstart",function(t){e.onVolumebarMouseDown(e.videoPlayerId)},!1),t.addEventListener("volumechange",function(){e.contolVolumebarUpdate(e.videoPlayerId)}),document.getElementById(e.videoPlayerId+"_fluid_control_mute").addEventListener("click",function(){e.muteToggle(e.videoPlayerId)}),e.setBuffering(),document.getElementById(e.videoPlayerId+"_fluid_control_fullscreen").addEventListener("click",function(){e.fullscreenToggle()}),e.displayOptions.layoutControls.allowTheatre?document.getElementById(e.videoPlayerId+"_fluid_control_theatre").addEventListener("click",function(){e.theatreToggle(e.videoPlayerId)}):document.getElementById(e.videoPlayerId+"_fluid_control_theatre").style.display="none"},createTimePositionPreview:function(){var e=this;if(videoPlayer=document.getElementById(e.videoPlayerId),e.showTimeOnHover){var t=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container"),n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_timeline_preview",n.className="fluid_timeline_preview",n.style.display="none",n.style.position="absolute",t.appendChild(n),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("mousemove",function(t){var n=document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container"),i=n.clientWidth;hoverTimeItem=document.getElementById(e.videoPlayerId+"_fluid_timeline_preview");var o=fluidPlayerClass.getEventOffsetX(t,n);hoverSecondQ=e.currentVideoDuration*o/i,showad=e.pad(parseInt(hoverSecondQ/60))+":"+e.pad(parseInt(hoverSecondQ%60)),hoverTimeItem.innerText=showad,hoverTimeItem.style.display="block",hoverTimeItem.style.left=hoverSecondQ/videoPlayer.duration*100+"%"},!1),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("mouseout",function(){hoverTimeItem=document.getElementById(e.videoPlayerId+"_fluid_timeline_preview"),hoverTimeItem.style.display="none"},!1)}},setCustomContextMenu:function(){var e=this,t=document.getElementById(e.videoPlayerId),n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_context_menu",n.className="fluid_context_menu",n.style.display="none",n.style.position="absolute",n.innerHTML='<ul>    <li id="'+e.videoPlayerId+'context_option_play">Play</li>    <li id="'+e.videoPlayerId+'context_option_mute">Mute</li>    <li id="'+e.videoPlayerId+'context_option_fullscreen">Fullscreen</li>    <li id="'+e.videoPlayerId+'context_option_homepage">       <a            id="'+e.videoPlayerId+'context_option_homepage_link"            href="'+e.homepage+'"            target="_blank">           Fluid Player '+e.version+"       </a>     </li></ul>",t.parentNode.insertBefore(n,t.nextSibling),t.addEventListener("contextmenu",function(e){e.preventDefault(),n.style.left=fluidPlayerClass.getEventOffsetX(e,t)+"px",n.style.top=fluidPlayerClass.getEventOffsetY(e,t)+"px",n.style.display="block"},!1),document.addEventListener("click",function(e){e.target===t&&2===e.button||(n.style.display="none")},!1);var i=document.getElementById(e.videoPlayerId+"context_option_play"),o=document.getElementById(e.videoPlayerId+"context_option_mute"),a=document.getElementById(e.videoPlayerId+"context_option_fullscreen"),l=document.getElementById(e.videoPlayerId+"context_option_homepage_link");i.addEventListener("click",function(){e.playPauseToggle(t)},!1),o.addEventListener("click",function(){e.muteToggle(e.videoPlayerId)},!1),a.addEventListener("click",function(){e.fullscreenToggle()},!1),l.style.color="inherit",l.style.textDecoration="inherit"},setDefaultLayout:function(){var e=this,t=document.getElementById(e.videoPlayerId);document.getElementById("fluid_video_wrapper_"+e.videoPlayerId).className+=" fluid_player_layout_"+e.displayOptions.layoutControls.layout,t.removeAttribute("controls"),e.setCustomContextMenu();var n="";e.checkShouldDisplayVolumeControls()||(n=" no_volume_controls");var i=document.createElement("div");i.id=e.videoPlayerId+"_fluid_controls_container",i.className="fluid_controls_container"+n,i.innerHTML=e.generateCustomControlTags(),t.parentNode.insertBefore(i,t.nextSibling);var o=document.createElement("div");o.className="vast_video_loading",o.id="vast_video_loading_"+e.videoPlayerId,o.style.display="none",backgroundColor=e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"white",document.getElementById(e.videoPlayerId+"_vast_control_currentprogress").style.backgroundColor=backgroundColor,t.parentNode.insertBefore(o,t.nextSibling);var a=100;if(e.checkShouldDisplayVolumeControls())var l=setInterval(function(){a?e.checkIfVolumebarIsRendered()?(clearInterval(l),e.contolVolumebarUpdate(e.videoPlayerId)):a--:clearInterval(l)},100);e.initHtmlOnPauseBlock(),e.setCustomControls(),e.setupThumbnailPreview(),e.createTimePositionPreview(),e.initPlayButton(),e.createPlaybackList(),e.createDownload()},checkIfVolumebarIsRendered:function(){var e=document.getElementById(this.videoPlayerId+"_fluid_control_volume_currentpos"),t=document.getElementById(this.videoPlayerId+"_fluid_control_volume").clientWidth;return e.clientWidth!==t},forceLayoutIfNeeded:function(){var e=window.navigator.userAgent;e.match(/iPhone/i)&&e.match(/WebKit/i)&&!e.match(/CriOS/i)&&(this.displayOptions.layoutControls.layout="browser")},setLayout:function(){var e=this,t=document.getElementById(e.videoPlayerId);switch(e.forceLayoutIfNeeded(),t.addEventListener("play",e.initialPlay,!1),document.getElementById(this.videoPlayerId).addEventListener("click",function(){e.playPauseToggle(t)},!1),this.displayOptions.layoutControls.layout){case"browser":break;default:this.setDefaultLayout()}},handleFullscreen:function(){var e=this;void 0===document.vastFullsreenChangeEventListenersAdded&&(["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"].forEach(function(t){"object"==typeof document["on"+t]&&document.addEventListener(t,function(t){e.recalculateAdDimensions(fluidPlayerClass.activeVideoPlayerId)},!1)}),document.vastFullsreenChangeEventListenersAdded=!0)},setupThumbnailPreviewVtt:function(){var e=this;e.sendRequest(e.displayOptions.layoutControls.timelinePreview.file,!0,e.displayOptions.vastOptions.vastTimeout,function(){var t=this;if((4!==t.readyState||200===t.status)&&4===t.readyState&&200===t.status){var n=t.responseText,i=(new WebVTTParser).parse(n);e.timelinePreviewData=function(t){if(void 0===t.cues||!t.cues.length)return[];for(var n=[],i=null,o=null,a=0;a<t.cues.length;a++)2===(i=t.cues[a].text.split("#")).length&&0===i[1].indexOf("xywh=")&&4===(o=(o=i[1].substring(5)).split(",")).length&&n.push({startTime:t.cues[a].startTime,endTime:t.cues[a].endTime,image:e.displayOptions.layoutControls.timelinePreview.sprite?e.displayOptions.layoutControls.timelinePreview.sprite:i[0],x:parseInt(o[0]),y:parseInt(o[1]),w:parseInt(o[2]),h:parseInt(o[3])});return n}(i)}})},generateTimelinePreviewTags:function(){var e=document.getElementById(this.videoPlayerId+"_fluid_controls_progress_container"),t=document.createElement("div");t.id=this.videoPlayerId+"_fluid_timeline_preview_container",t.className="fluid_timeline_preview_container",t.style.display="none",t.style.position="absolute",e.appendChild(t)},getThumbnailCoordinates:function(e){var t=this;if(t.timelinePreviewData.length)for(var n=0;n<t.timelinePreviewData.length;n++)if(e>=t.timelinePreviewData[n].startTime&&e<=t.timelinePreviewData[n].endTime)return t.timelinePreviewData[n];return!1},drawTimelinePreview:function(e){var t=this,n=document.getElementById(t.videoPlayerId+"_fluid_timeline_preview_container"),i=document.getElementById(t.videoPlayerId+"_fluid_controls_progress_container"),o=i.clientWidth;if(t.isCurrentlyPlayingAd)"none"!==n.style.display&&(n.style.display="none");else{var a=fluidPlayerClass.getEventOffsetX(e,i),l=null;if(o){l=t.currentVideoDuration*a/o;var r=t.getThumbnailCoordinates(l);!1!==r?(n.style.width=r.w+"px",n.style.height=r.h+"px",n.style.background="url("+r.image+") no-repeat scroll -"+r.x+"px -"+r.y+"px",n.style.left=a-r.w/2+"px",n.style.display="block"):n.style.display="none"}}},setupThumbnailPreview:function(){var e=this;if(e.displayOptions.layoutControls.timelinePreview&&"string"==typeof e.displayOptions.layoutControls.timelinePreview.file&&"string"==typeof e.displayOptions.layoutControls.timelinePreview.type){switch(e.displayOptions.layoutControls.timelinePreview.type){case"VTT":fluidPlayerClass.requestScript(fluidPlayerScriptLocation+fluidPlayerClass.vttParserScript,e.setupThumbnailPreviewVtt.bind(this)),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("mousemove",e.drawTimelinePreview.bind(e),!1),document.getElementById(e.videoPlayerId+"_fluid_controls_progress_container").addEventListener("mouseout",function(){document.getElementById(e.videoPlayerId+"_fluid_timeline_preview_container").style.display="none"},!1),e.generateTimelinePreviewTags()}e.showTimeOnHover=!1}},setupPlayerWrapper:function(){var e=document.getElementById(this.videoPlayerId),t=document.createElement("div");t.className=fluidPlayerClass.isTouchDevice()?"fluid_video_wrapper mobile":"fluid_video_wrapper",t.id="fluid_video_wrapper_"+this.videoPlayerId,this.displayOptions.layoutControls.fillToContainer?t.style.width="100%":(t.style.height=e.clientHeight+"px",t.style.width=e.clientWidth+"px"),e.style.height="100%",e.style.width="100%",e.parentNode.insertBefore(t,e),t.appendChild(e)},onErrorDetection:function(){var e=fluidPlayerClass.getInstanceById(this.id);this.networkState===this.NETWORK_NO_SOURCE&&e.isCurrentlyPlayingAd&&e.playMainVideoWhenVastFails(401)},createVideoSourceSwitch:function(){var e=this,t=document.getElementById(e.videoPlayerId);if("browser"!==e.displayOptions.layoutControls.layout){var n=[],i=t.querySelectorAll("source");if([].forEach.call(i,function(e){e.title&&e.src&&n.push({title:e.title,url:e.src})}),e.videoSources=n,e.videoSources.length>1){var o=document.getElementById(e.videoPlayerId+"_fluid_control_video_source"),a=document.createElement("div");a.id=e.videoPlayerId+"_fluid_control_video_source_list",a.className="fluid_video_sources_list",a.style.display="none";var l=!0;e.videoSources.forEach(function(t){var n=l?"source_selected":"";l=!1;var i=document.createElement("div");i.className="fluid_video_source_list_item",i.innerHTML='<span class="source_button_icon '+n+'"></span>'+t.title,i.addEventListener("click",function(t){t.stopPropagation();for(var n=this,i=document.getElementsByClassName("source_button_icon"),o=0;o<i.length;o++)i[o].className=i[o].className.replace("source_selected","");n.firstChild.className+=" source_selected",e.videoSources.forEach(function(t){t.title==n.innerText&&(e.setBuffering(),e.setVideoSource(t.url))}),e.openCloseVideoSourceSwitch()}),a.appendChild(i)}),o.appendChild(a),o.addEventListener("click",function(){e.openCloseVideoSourceSwitch()})}else document.getElementById(e.videoPlayerId+"_fluid_control_video_source").style.display="none"}},openCloseVideoSourceSwitch:function(){var e=document.getElementById(this.videoPlayerId+"_fluid_control_video_source_list"),t=document.getElementById(this.videoPlayerId+"_fluid_control_video_source");if(this.isCurrentlyPlayingAd)e.style.display="none";else if("none"==e.style.display){e.style.display="block";var n=function(i){t.removeEventListener("mouseleave",n),e.style.display="none"};t.addEventListener("mouseleave",n)}else e.style.display="none"},setVideoSource:function(e){var t=this,n=document.getElementById(t.videoPlayerId);if(t.isCurrentlyPlayingAd)t.originalSrc=e;else{var i=!1;if(!n.paused){t.playPauseToggle(n);i=!0}var o=n.currentTime,a=function(){n.removeEventListener("loadedmetadata",a),n.currentTime=o,i&&t.playPauseToggle(n)};n.addEventListener("loadedmetadata",a),n.src=e,t.originalSrc=e}},initLogo:function(){var e=this,t=document.getElementById(e.videoPlayerId);if(e.displayOptions.layoutControls.logo.imageUrl){var n=document.createElement("img");n.src=e.displayOptions.layoutControls.logo.imageUrl,n.style.position="absolute",n.style.margin="2px";var i=e.displayOptions.layoutControls.logo.position.toLowerCase();-1!==i.indexOf("bottom")?n.style.bottom=0:n.style.top=0,-1!==i.indexOf("right")?n.style.right=0:n.style.left=0,e.displayOptions.layoutControls.logo.opacity&&(n.style.opacity=e.displayOptions.layoutControls.logo.opacity),null!==e.displayOptions.layoutControls.logo.clickUrl?(n.style.cursor="pointer",n.addEventListener("click",function(){window.open(e.displayOptions.layoutControls.logo.clickUrl,"_blank").focus()})):n.style.pointerEvents="none",t.parentNode.insertBefore(n,null)}},initHtmlOnPauseBlock:function(){var e=this;if(!e.hasValidOnPauseAd()&&e.displayOptions.layoutControls.htmlOnPauseBlock.html){var t=document.getElementById(e.videoPlayerId),n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_html_on_pause",n.className="fluid_html_on_pause",n.style.display="none",n.innerHTML=e.displayOptions.layoutControls.htmlOnPauseBlock.html,n.onclick=function(n){e.playPauseToggle(t)},e.displayOptions.layoutControls.htmlOnPauseBlock.width&&(n.style.width=e.displayOptions.layoutControls.htmlOnPauseBlock.width+"px"),e.displayOptions.layoutControls.htmlOnPauseBlock.height&&(n.style.height=e.displayOptions.layoutControls.htmlOnPauseBlock.height+"px"),t.parentNode.insertBefore(n,null)}},initPlayButton:function(){var e=this,t=document.getElementById(e.videoPlayerId),n=document.createElement("div");(n.id=e.videoPlayerId+"_fluid_initial_play_button",n.className="fluid_html_on_pause",backgroundColor=e.displayOptions.layoutControls.primaryColor?e.displayOptions.layoutControls.primaryColor:"#333333",n.innerHTML='<div id="'+e.videoPlayerId+'_fluid_initial_play" class="fluid_initial_play" style="background-color:'+backgroundColor+'"><div id="'+e.videoPlayerId+'_fluid_state_button" class="fluid_initial_play_button"></div></div>',n.onclick=function(n){e.playPauseToggle(t)},e.displayOptions.layoutControls.playButtonShowing)||(document.getElementById(e.videoPlayerId+"_fluid_controls_container").classList.add("initial_controls_show"),n.style.opacity="0");t.parentNode.insertBefore(n,null)},mainVideoReady:function(){var e=fluidPlayerClass.getInstanceById(this.id);0==e.mainVideoDuration&&(e.mainVideoDuration=this.duration)},userActivityChecker:function(){var e=this,t=document.getElementById("fluid_video_wrapper_"+e.videoPlayerId);e.newActivity=null;activityCheck=setInterval(function(){if(!0===e.newActivity){e.newActivity=!1;var t=document.getElementById(e.videoPlayerId);if(!1===e.isUserActive){t=document.getElementById(e.videoPlayerId);var n=new CustomEvent("userActive");t.dispatchEvent(n),e.isUserActive=!0}clearTimeout(e.inactivityTimeout),e.inactivityTimeout=setTimeout(function(){!0!==e.newActivity?(e.isUserActive=!1,n=new CustomEvent("userInactive"),t.dispatchEvent(n)):clearTimeout(e.inactivityTimeout)},1e3*e.displayOptions.layoutControls.controlBar.autoHideTimeout)}},300);var n=fluidPlayerClass.isTouchDevice()?"touchstart":"mousemove";t.addEventListener(n,function(){e.newActivity=!0})},hasControlBar:function(){return!(!document.getElementById(this.videoPlayerId+"_fluid_controls_container")||"browser"==this.displayOptions.layoutControls.layout)},hideControlBar:function(){var e=fluidPlayerClass.getInstanceIdByWrapperId(this.getAttribute("id")),t=fluidPlayerClass.getInstanceById(e),n=document.getElementById(e);if(t.isCurrentlyPlayingAd&&!n.paused&&t.toggleAdCountdown(!0),t.hasControlBar()){var i=document.getElementById(t.videoPlayerId+"_fluid_controls_container");t.displayOptions.layoutControls.controlBar.animated?t.fadeOut(i):i.style.display="none"}n.style.cursor="none"},showControlBar:function(){var e=fluidPlayerClass.getInstanceIdByWrapperId(this.getAttribute("id")),t=fluidPlayerClass.getInstanceById(e),n=document.getElementById(e);if(t.isCurrentlyPlayingAd&&!n.paused&&t.toggleAdCountdown(!1),t.hasControlBar()){var i=document.getElementById(t.videoPlayerId+"_fluid_controls_container");t.displayOptions.layoutControls.controlBar.animated?t.fadeIn(i):i.style.display="block"}fluidPlayerClass.isTouchDevice()||(n.style.cursor="default")},fadeOut:function(e){var t=1,n=setInterval(function(){t<=.1&&clearInterval(n),e.style.opacity=t,t-=.1},50)},fadeIn:function(e){var t=.1,n=setInterval(function(){t>=1?clearInterval(n):(e.style.opacity=t,t+=.1)},10)},linkControlBarUserActivity:function(){var e=document.getElementById(this.videoPlayerId);e.addEventListener("userInactive",this.hideControlBar),e.addEventListener("userActive",this.showControlBar)},initMute:function(){!0===this.displayOptions.layoutControls.mute&&(document.getElementById(this.videoPlayerId).volume=0)},setBuffering:function(){var e=document.getElementById(this.videoPlayerId),t=document.getElementById(this.videoPlayerId+"_buffered_amount");t.style.width=0,logProgress=function(){var i=e.duration;if(i>0)for(var o=0;o<e.buffered.length;o++)if(e.buffered.start(e.buffered.length-1-o)<e.currentTime){t.style.width=e.buffered.end(e.buffered.length-1-o)/i*100+"%",e.buffered.end(e.buffered.length-1-o)/i=="1"&&clearInterval(n);break}};var n=setInterval(logProgress,500)},createPlaybackList:function(){var e=this;if(e.displayOptions.layoutControls.playbackRateEnabled){var t=document.getElementById(e.videoPlayerId+"_fluid_control_playback_rate"),n=document.createElement("div");n.id=e.videoPlayerId+"_fluid_control_video_playback_rate",n.className="fluid_video_playback_rates",n.style.display="none",["x2","x1.5","x1","x0.5"].forEach(function(t){var i=document.createElement("div");i.className="fluid_video_playback_rates_item",i.innerText=t,i.addEventListener("click",function(t){t.stopPropagation(),playbackRate=this.innerText.replace("x",""),e.setPlaybackSpeed(playbackRate),e.openCloseVideoPlaybackRate()}),n.appendChild(i)}),t.appendChild(n),t.addEventListener("click",function(){e.openCloseVideoPlaybackRate()})}else document.getElementById(e.videoPlayerId+"_fluid_control_playback_rate").style.display="none"},openCloseVideoPlaybackRate:function(){var e=document.getElementById(this.videoPlayerId+"_fluid_control_video_playback_rate"),t=document.getElementById(this.videoPlayerId+"_fluid_control_playback_rate");if(this.isCurrentlyPlayingAd)e.style.display="none";else if("none"==e.style.display){e.style.display="block";var n=function(){t.removeEventListener("mouseleave",n),e.style.display="none"};t.addEventListener("mouseleave",n)}else e.style.display="none"},createDownload:function(){var e=this,t=document.getElementById(this.videoPlayerId+"_fluid_control_download");e.displayOptions.layoutControls.allowDownload?(downloadClick=document.createElement("a"),downloadClick.id=this.videoPlayerId+"_download",t.appendChild(downloadClick),t.addEventListener("click",function(){var t=document.getElementById(e.videoPlayerId+"_download");t.download=e.originalSrc,t.href=e.originalSrc,downloadClick.click()})):t.style.display="none"},theatreToggle:function(){var e=document.getElementById("fluid_video_wrapper_"+this.videoPlayerId);this.theatreMode?(e.classList.remove("fluid_theatre_mode"),e.style.maxHeight="",this.displayOptions.layoutControls.fillToContainer?(e.style.width="100%",e.style.height="100%"):(e.style.width=this.originalWidth+"px",e.style.height=this.originalHeight+"px"),this.theatreMode=!1):(this.fullscreenMode&&this.fullscreenToggle(),e.classList.add("fluid_theatre_mode"),lessFullHeight=screen.height/100*60,e.style.width="100%",e.style.height="60%",e.style.maxHeight=lessFullHeight+"px",this.theatreMode=!0)},init:function(e,t){var n=this,i=document.getElementById(e);for(var o in n.vastOptions={vastTagUrl:"",tracking:[],stopTracking:[]},n.videoPlayerId=e,n.originalSrc=n.getCurrentSrc(),n.isCurrentlyPlayingAd=!1,n.isCurrentlyPlayingVideo=!1,n.recentWaiting=!1,n.latestVolume=1,n.currentVideoDuration=0,n.initialStart=!1,n.suppressClickthrough=!1,n.timelinePreviewData=[],n.mainVideoCurrentTime=0,n.mainVideoDuration=0,n.isTimer=!1,n.timer=null,n.timerPool={},n.adList={},n.adPool={},n.availableRolls=["preRoll","midRoll","postRoll","onPauseRoll"],n.supportedNonLinearAd=["300x250","468x60","728x90"],n.autoplayAfterAd=!0,n.nonLinearDuration=15,n.supportedStaticTypes=["image/gif","image/jpeg","image/png"],n.inactivityTimeout=null,n.isUserActive=null,n.nonLinearVerticalAlign="bottom",n.showTimeOnHover=!0,n.initialAnimationSet=!0,n.theatreMode=!1,n.fullscreenMode=!1,n.originalWidth=i.offsetWidth,n.originalHeight=i.offsetHeight,n.displayOptions={layoutControls:{mediaType:"video/mp4",primaryColor:!1,adProgressColor:"#f9d300",playButtonShowing:!0,playPauseAnimation:!0,closeButtonCaption:"Close",fillToContainer:!1,autoPlay:!1,mute:!1,keyboardControl:!0,allowDownload:!1,playbackRateEnabled:!1,allowTheatre:!0,logo:{imageUrl:null,position:"top left",clickUrl:null,opacity:1},controlBar:{autoHide:!1,autoHideTimeout:3,animated:!0},timelinePreview:{},htmlOnPauseBlock:{html:null,height:null,width:null},layout:"default",playerInitCallback:function(){}},vastOptions:{adList:{},skipButtonCaption:"Skip ad in [seconds]",skipButtonClickCaption:'Skip Ad <span class="skip_button_icon"></span>',adText:null,adCTAText:"Visit now!",vastTimeout:5e3,vastAdvanced:{vastLoadedCallback:function(){},noVastVideoCallback:function(){},vastVideoSkippedCallback:function(){},vastVideoEndedCallback:function(){}}}},t)if("object"==typeof t[o])for(var a in t[o])n.displayOptions[o][a]=t[o][a];else n.displayOptions[o]=t[o];n.setupPlayerWrapper(),i.addEventListener("webkitfullscreenchange",n.recalculateAdDimensions,!1),i.addEventListener("fullscreenchange",n.recalculateAdDimensions,!1),i.addEventListener("waiting",n.onRecentWaiting,!1),i.addEventListener("pause",n.onFluidPlayerPause,!1),i.addEventListener("loadeddata",n.mainVideoReady,!1),i.addEventListener("durationchange",function(){n.currentVideoDuration=n.getCurrentVideoDuration()},!1),i.addEventListener("error",n.onErrorDetection,!1),n.currentVideoDuration=n.getCurrentVideoDuration(),isNaN(n.currentVideoDuration)&&(n.currentVideoDuration=0),n.setLayout(),n.latestVolume=i.volume,n.initialAnimationSet=n.displayOptions.layoutControls.playPauseAnimation,n.handleFullscreen(),n.initLogo(),n.initMute(),n.displayOptions.layoutControls.playerInitCallback(),n.createVideoSourceSwitch(),n.userActivityChecker(),n.setVastList(),n.displayOptions.layoutControls.autoPlay&&i.play(),n.displayOptions.layoutControls.keyboardControl&&n.keyboardControl(),n.displayOptions.layoutControls.controlBar.autoHide&&n.linkControlBarUserActivity()},play:function(){return document.getElementById(this.videoPlayerId).play(),!0},pause:function(){return document.getElementById(this.videoPlayerId).pause(),!0},skipTo:function(e){document.getElementById(this.videoPlayerId).currentTime=e},setPlaybackSpeed:function(e){document.getElementById(this.videoPlayerId).playbackRate=e},setVolume:function(e){document.getElementById(this.videoPlayerId).volume=e},setHtmlOnPauseBlock:function(e){if("object"!=typeof e||void 0===e.html)return!1;var t=document.getElementById(this.videoPlayerId),n=document.getElementById(this.videoPlayerId+"_fluid_html_on_pause");if(n)n.innerHTML=e.html,e.width&&(n.style.width=e.width+"px"),e.height&&(n.style.height=e.height+"px");else{t=document.getElementById(player.videoPlayerId);var i=document.createElement("div");i.id=player.videoPlayerId+"_fluid_html_on_pause",i.className="fluid_html_on_pause",i.style.display="none",i.innerHTML=e.html,i.onclick=function(){player.playPauseToggle(t)},e.width&&(i.style.width=e.width+"px"),e.height&&(i.style.height=e.height+"px"),t.parentNode.insertBefore(i,null)}},toggleControlBar:function(e){document.getElementById(this.videoPlayerId);var t=document.getElementById(this.videoPlayerId+"_fluid_controls_container");e?t.className+=" initial_controls_show":t.className=t.className.replace(" initial_controls_show","")},toggleFullscreen:function(e){var t=document.getElementById("fluid_video_wrapper_"+this.videoPlayerId),n=document.getElementById(this.videoPlayerId+"_fluid_control_fullscreen"),i=document.getElementById(this.videoPlayerId+"context_option_fullscreen");e?(t.className+=" pseudo_fullscreen",this.fullscreenOn(n,i)):(t.className=t.className.replace(/\bpseudo_fullscreen\b/g,""),this.fullscreenOff(n,i))},on:function(e,t){var n=document.getElementById(this.videoPlayerId);switch(e){case"play":n.onplay=t;break;case"pause":n.onpause=t;break;default:console.log("[FP_ERROR] Event not recognised")}}};
